<body>
    <div class="row">
        <div class ="col">
            <app-admin-nav></app-admin-nav>
        </div>
                <div class="col-sm-10 me-4">
                    <div class="table-title">
                        <div class="row">
                            <div class="col-sm-5 text-md-start pt-3">
                                <h2>User <b>Administration</b></h2>
                            </div>
                        </div>
                    </div>
                    <table [dataSource]="dataSource" mat-table class="table align-middle mb-0 bg-light table-hover">
                        <ng-container matColumnDef="ID">
                          <th mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black;">ID</th>
                          <td mat-cell *matCellDef="let element">{{element.id}}</td>
                        </ng-container>
                    
                        <ng-container matColumnDef="username">
                          <th mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black;">Username</th>
                          <td mat-cell *matCellDef="let element">{{element.visibleName}}</td>
                        </ng-container>
                    
                        <ng-container matColumnDef="email" >
                          <th mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black;">Email</th>
                          <td mat-cell *matCellDef="let element">{{element.email}}</td>
                        </ng-container>

                        <ng-container matColumnDef="active" >
                            <th mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black;">Active</th>
                            <td mat-cell *matCellDef="let element">{{element.active}}</td>
                          </ng-container>

                          <ng-container matColumnDef="role" >
                            <th mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black;">Role</th>
                            <td mat-cell *matCellDef="let element">{{element.role}}</td>
                          </ng-container>
                    
                        <ng-container matColumnDef="ban" >
                          <th mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black;">Ban</th>
                          <td mat-cell *matCellDef="let element">
                            <i class="bi bi-shield-fill-x" style="font-size: 30px; color: darkred;" *ngIf="!element.locked" (click)="lockUser(element.id)"></i>
                            <i class="bi bi-shield-fill-check" style="font-size: 30px; color: green;" *ngIf="element.locked" (click)="unlockUser(element.id)"></i>
                          </td>
                        </ng-container>

                        <ng-container matColumnDef="delete" >
                            <th mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black;">Delete</th>
                            <td mat-cell *matCellDef="let element">
                                <i class="bi bi-x-square-fill" style="font-size: 30px;" (click)="removeUser(element.id)"></i>
                            </td>
                        </ng-container>
                        
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                      </table>
                    <mat-paginator #paginator [pageSizeOptions]="[2,4,6]" showFirstLastButtons class="bg-light"></mat-paginator>
        </div>     
    </div>
</body>

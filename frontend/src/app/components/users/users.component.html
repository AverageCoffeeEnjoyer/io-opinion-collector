<div class="table-title">
  <div class="row">
    <div class="col-sm-12 text-md-start pt-3">
      <h2>User <b>Administration</b></h2>
    </div>
  </div>
</div>
<div class="card">
  <div class="table-responsive">
    <table [dataSource]="dataSource" mat-table class="table mb-0 bg-light table-hover table-striped text-center align-middle">
      <ng-container matColumnDef="username">
        <th class="align-middle" mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black; text-align: center">Username</th>
        <td mat-cell *matCellDef="let element">{{element.visibleName}}</td>
      </ng-container>

      <ng-container matColumnDef="email" >
        <th class="align-middle" mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black; text-align: center">Email</th>
        <td mat-cell *matCellDef="let element">{{element.email}}</td>
      </ng-container>

      <ng-container matColumnDef="active" >
        <th class="align-middle" mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black; text-align: center">Active</th>
        <td mat-cell *matCellDef="let element">{{element.active}}</td>
      </ng-container>

      <ng-container matColumnDef="role" >
        <th class="align-middle" mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black; text-align: center">Role</th>
        <td mat-cell *matCellDef="let element">{{element.role}}</td>
      </ng-container>

      <ng-container matColumnDef="ban" >
        <th class="align-middle" mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black; text-align: center">Locked</th>
        <td mat-cell *matCellDef="let element">
          <i class="bi bi-unlock hover-icon" style="font-size: 30px; color: green;" *ngIf="!element.locked" (click)="lockUser(element.email)"></i>
          <i class="bi bi-lock hover-icon" style="font-size: 30px; color: darkred;" *ngIf="element.locked" (click)="unlockUser(element.email)"></i>
        </td>
      </ng-container>

      <ng-container matColumnDef="delete" >
        <th class="align-middle" mat-header-cell *matHeaderCellDef style="font-size: large; font-weight: bold; color: black; text-align: center">Delete</th>
        <td mat-cell *matCellDef="let element">
          <i class="bi bi-x-square-fill hover-icon" style="font-size: 30px;" (click)="removeUser(element.email)"></i>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
  <mat-paginator #paginator [pageSizeOptions]="[5,10,15]" [pageSize]="10" showFirstLastButtons class="bg-light"></mat-paginator>
</div>

